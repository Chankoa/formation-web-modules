@use "./design-system/tokens" as tokens;

:root {
  @include tokens.emit-css-vars(tokens.$colors, --color);
  @include tokens.emit-css-vars(tokens.$font-families, --font);
  @include tokens.emit-css-vars(tokens.$font-weights, --fw);
  @include tokens.emit-css-vars(tokens.$font-scale, --fs);
  @include tokens.emit-css-vars(tokens.$spacing, --space);
  @include tokens.emit-css-vars(tokens.$radii, --radius);
  @include tokens.emit-css-vars(tokens.$shadows, --shadow);

  --lh-base: #{tokens.line-height-value(base)};
  --lh-tight: #{tokens.line-height-value(tight)};
  --lh-loose: #{tokens.line-height-value(loose)};

  --transition-fast: #{tokens.transition-value(fast)};
  --transition: #{tokens.transition-value(base)};
  --transition-slow: #{tokens.transition-value(slow)};

  --container-max: #{tokens.misc-value(container-max)};

  /* Semantic shorthands used in the app */
  --color-bg-main: var(--color-bg);
  --color-surface: var(--color-surface);
  --color-surface-alt: var(--color-surface-alt);
  --color-text-main: var(--color-text);
  --color-muted-main: var(--color-muted);
  --color-brand-main: var(--color-brand);
  --color-border-main: var(--color-border);
  --shadow-card: var(--shadow-md);
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-bg: #{tokens.color(bg-dark)};
    --color-bg-alt: #{tokens.color(surface-alt-dark)};
    --color-surface: #{tokens.color(surface-dark)};
    --color-surface-alt: #{tokens.color(surface-alt-dark)};
    --color-card: #{tokens.color(card-dark)};
    --color-text: #{tokens.color(text-dark)};
    --color-muted: #{tokens.color(muted-dark)};
    --color-border: #{tokens.color(border-dark)};
    --color-brand: #{tokens.color(text-dark)};
    --color-brand-soft: #{tokens.color(text-dark)};
    --color-note: #{tokens.color(note-dark)};
    --color-exercise: #{tokens.color(exercise-dark)};
    --color-accent: #{tokens.color(accent-dark)};
    --color-accent-hover: #{tokens.color(accent-hover-dark)};
    --color-link: #{tokens.color(accent-dark)};
    --color-link-hover: #{tokens.color(accent-hover-dark)};
  }
}

html[data-theme="dark"] {
  --color-bg: #{tokens.color(bg-dark)};
  --color-bg-alt: #{tokens.color(surface-alt-dark)};
  --color-surface: #{tokens.color(surface-dark)};
  --color-surface-alt: #{tokens.color(surface-alt-dark)};
  --color-card: #{tokens.color(card-dark)};
  --color-text: #{tokens.color(text-dark)};
  --color-muted: #{tokens.color(muted-dark)};
  --color-border: #{tokens.color(border-dark)};
  --color-brand: #{tokens.color(text-dark)};
  --color-brand-soft: #{tokens.color(text-dark)};
  --color-note: #{tokens.color(note-dark)};
  --color-exercise: #{tokens.color(exercise-dark)};
  --color-accent: #{tokens.color(accent-dark)};
  --color-accent-hover: #{tokens.color(accent-hover-dark)};
  --color-link: #{tokens.color(accent-dark)};
  --color-link-hover: #{tokens.color(accent-hover-dark)};
}

html[data-theme="light"] {
  --color-bg: #{tokens.color(bg)};
  --color-bg-alt: #{tokens.color(surface-alt)};
  --color-surface: #{tokens.color(surface)};
  --color-surface-alt: #{tokens.color(surface-alt)};
  --color-card: #{tokens.color(card)};
  --color-text: #{tokens.color(text)};
  --color-muted: #{tokens.color(muted)};
  --color-border: #{tokens.color(border)};
  --color-brand: #{tokens.color(brand)};
  --color-brand-soft: #{tokens.color(brand-soft)};
  --color-note: #{tokens.color(note)};
  --color-exercise: #{tokens.color(exercise)};
  --color-accent: #{tokens.color(accent)};
  --color-accent-hover: #{tokens.color(accent-hover)};
  --color-link: #{tokens.color(link)};
  --color-link-hover: #{tokens.color(link-hover)};
}
